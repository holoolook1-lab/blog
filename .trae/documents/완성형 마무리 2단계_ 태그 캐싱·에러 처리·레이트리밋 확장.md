## 목표
- 페이지/피드 조회에 태그 캐싱을 도입하고, 변이 시 정밀 무효화로 최신성을 보장
- 친화적 오류 화면 추가, 민감 API 레이트리밋 확장으로 운영 안전성 강화

## 구현 항목
### 태그 캐싱/무효화
- 새 헬퍼 추가: `src/lib/cache/posts.ts`
  - `getPublicPostsCached(params)` → `unstable_cache(..., ['posts:list'], { revalidate: 60, tags: ['posts:list'] })`
  - `getPostBySlugCached(slug)` → `unstable_cache(..., [`post:${slug}`], { revalidate: 600, tags: [`post:${slug}`] })`
- 페이지 치환
  - `src/app/(blog)/posts/page.tsx`: Supabase 직접 호출 → `getPublicPostsCached` 사용
  - `src/app/(blog)/posts/[slug]/page.tsx`: 단건 조회 → `getPostBySlugCached` 사용
- 홈 최근 API 태그 부착
  - `src/app/page.tsx:34`의 `fetch(..., { next: { revalidate: 60 } })` → `{ next: { revalidate: 60, tags: ['posts:list'] } }`
- 변이 시 태그 무효화
  - `src/app/api/posts/route.ts`(POST): `revalidateTag('posts:list')`, ``revalidateTag(`post:${s}`)``, `revalidateTag('feed:rss')`, `revalidateTag('feed:atom')`, `revalidateTag('feed:sitemap')`
  - `src/app/api/posts/[id]/route.ts`(PUT/DELETE): 동일 적용, 삭제는 `slug` 기반 단건 태그

### 피드 캐싱
- 새 헬퍼 추가: `src/lib/cache/feeds.ts`
  - `getRssItemsCached()` → `unstable_cache(..., ['feed:rss'], { revalidate: 3600, tags: ['feed:rss'] })`
  - `getAtomEntriesCached()` → 태그 `['feed:atom']`
  - `getSitemapItemsCached()` → 태그 `['feed:sitemap']`
- 라우트 치환
  - `src/app/rss.xml/route.ts`, `src/app/atom.xml/route.ts`, `src/app/sitemap.ts`에서 Supabase 조회를 헬퍼 호출로 치환

### 오류 화면
- 라우트 그룹에 오류 컴포넌트 추가
  - `src/app/error.tsx`: 공통 에러 화면(설명, 재시도 버튼)
  - `src/app/(blog)/posts/error.tsx`: 목록/상세 그룹용 에러 화면

### 레이트리밋 확장
- `blog/middleware.ts`에 추가 인스턴스
  - `uploadLimit = slidingWindow(5, '60 s')` → `/api/upload`
  - `voteLimit = slidingWindow(10, '60 s')` → `/api/votes`
  - `bookmarkLimit = slidingWindow(10, '60 s')` → `/api/bookmarks`
  - `authTokenLimit = slidingWindow(20, '60 s')` → `/api/auth/token`
- 매처 로직 추가: 각 경로별로 해당 제한 적용(현 `comments` 제한 유지)

## 검증
- 변이 후 홈/목록/상세/피드 첫 요청에서 최신 데이터 반영 확인(태그 무효화 동작)
- 오류 화면이 예외 발생 시 노출되고 `reset` 동작 확인
- 업로드/투표/북마크/토큰 API에서 과도 요청 시 429 응답 확인

## 변경 파일
- `src/lib/cache/posts.ts`(신규), `src/lib/cache/feeds.ts`(신규)
- `src/app/(blog)/posts/page.tsx`, `src/app/(blog)/posts/[slug]/page.tsx`, `src/app/page.tsx`
- `src/app/api/posts/route.ts`, `src/app/api/posts/[id]/route.ts`
- `src/app/rss.xml/route.ts`, `src/app/atom.xml/route.ts`, `src/app/sitemap.ts`
- `src/app/error.tsx`, `src/app/(blog)/posts/error.tsx`
- `blog/middleware.ts`

승인되면 위 항목을 즉시 구현하고 테스트까지 완료하겠습니다.